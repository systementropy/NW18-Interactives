<!DOCTYPE html>
<html lang="en">
<head>
	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAn2vLVeXXK2KK-htz7_PEDSrEKhMiRmKc" type="text/javascript"></script>
	<script type='text/javascript' src='https://www.gstatic.com/charts/loader.js'></script>
	<script type='text/javascript'>

		google.charts.load('upcoming', {'packages': ['geochart']});
		google.charts.setOnLoadCallback(initMap);

		var cityJson = {
			"Gwalior":{"PPm Lvl":176,"Location":{"lat":26.2182871,"lng":78.18283079999999}},
			"Allahabad":{"PPm Lvl":170,"Location":{"lat":25.4358011,"lng":81.846311}},
			"Patna":{"PPm Lvl":149,"Location":{"lat":25.5940947,"lng":85.1375645}},
			"Raipur":{"PPm Lvl":144,"Location":{"lat":21.2513844,"lng":81.62964130000002}},
			"Delhi":{"PPm Lvl":122,"Location":{"lat":28.7040592,"lng":77.10249019999999}},
			"Ludhiana":{"PPm Lvl":122,"Location":{"lat":30.900965,"lng":75.8572758}},
			"Kanpur":{"PPm Lvl":115,"Location":{"lat":26.449923,"lng":80.3318736}},
			"Khanna":{"PPm Lvl":114,"Location":{"lat":30.697852,"lng":76.2112286}},
			"Firozabad":{"PPm Lvl":113,"Location":{"lat":27.1741367,"lng":78.5660852}},
			"Lucknow":{"PPm Lvl":113,"Location":{"lat":26.8466937,"lng":80.94616599999999}},
			"Amritsar":{"PPm Lvl":108,"Location":{"lat":31.6339793,"lng":74.8722642}},
			"Gobindgarh":{"PPm Lvl":108,"Location":{"lat":30.6637378,"lng":76.3000419}},
			"Agra":{"PPm Lvl":105,"Location":{"lat":27.1766701,"lng":78.00807449999999}},
			"Jodhpur":{"PPm Lvl":101,"Location":{"lat":26.2389469,"lng":73.02430939999999}},
			"Dehradun":{"PPm Lvl":100,"Location":{"lat":30.3164945,"lng":78.03219179999999}},
			"Ahmedabad":{"PPm Lvl":100,"Location":{"lat":23.022505,"lng":72.5713621}},
			"Jaipur":{"PPm Lvl":100,"Location":{"lat":26.9124336,"lng":75.7872709}},
			"Howrah":{"PPm Lvl":100,"Location":{"lat":22.5957689,"lng":88.26363940000002}},
			"Faridabad":{"PPm Lvl":98,"Location":{"lat":28.4089123,"lng":77.3177894}},
			"Dhanbad":{"PPm Lvl":95,"Location":{"lat":23.7956531,"lng":86.43038589999999}},
			"Bhopal":{"PPm Lvl":93,"Location":{"lat":23.2599333,"lng":77.412615}},
			"Khurja":{"PPm Lvl":90,"Location":{"lat":28.2513538,"lng":77.8538797}},
			"Raebareli":{"PPm Lvl":87,"Location":{"lat":26.2345298,"lng":81.2408689}},
			"Kota":{"PPm Lvl":84,"Location":{"lat":25.2138156,"lng":75.8647527}},
			"Udaipur":{"PPm Lvl":83,"Location":{"lat":24.585445,"lng":73.712479}},
			"Alwar":{"PPm Lvl":81,"Location":{"lat":27.5529907,"lng":76.6345735}},
			"Chandrapur":{"PPm Lvl":79,"Location":{"lat":19.9704597,"lng":79.30148450000002}},
			"Indore":{"PPm Lvl":76,"Location":{"lat":22.7195687,"lng":75.8577258}},
			"Jalandhar":{"PPm Lvl":75,"Location":{"lat":31.3260152,"lng":75.57618289999999}},
			"Akola":{"PPm Lvl":74,"Location":{"lat":32.8491903,"lng":-96.78817649999999}},
			"Varanasi":{"PPm Lvl":74,"Location":{"lat":25.3176452,"lng":82.9739144}},
			"Noida":{"PPm Lvl":73,"Location":{"lat":28.5355161,"lng":77.3910265}},
			"Jalgaon":{"PPm Lvl":70,"Location":{"lat":21.0076578,"lng":75.5626039}},
			"Meerut":{"PPm Lvl":69,"Location":{"lat":28.9844618,"lng":77.7064137}},
			"Raniganj":{"PPm Lvl":67,"Location":{"lat":23.6290575,"lng":87.0923906}},
			"Navi Mumbai":{"PPm Lvl":64,"Location":{"lat":19.0330488,"lng":73.0296625}},
			"Jammu":{"PPm Lvl":64,"Location":{"lat":32.7266016,"lng":74.8570259}},
			"Bangalore":{"PPm Lvl":63,"Location":{"lat":12.9715987,"lng":77.5945627}},
			"Mumbai":{"PPm Lvl":63,"Location":{"lat":19.0759837,"lng":72.8776559}},
			"Kolkata":{"PPm Lvl":61,"Location":{"lat":22.572646,"lng":88.36389500000001}},
			"Chandigarh":{"PPm Lvl":59,"Location":{"lat":30.7333148,"lng":76.7794179}},
			"Kolhapur":{"PPm Lvl":59,"Location":{"lat":16.7049873,"lng":74.24325270000001}},
			"Jhansi":{"PPm Lvl":59,"Location":{"lat":25.4484257,"lng":78.5684594}},
			"Hyderabad":{"PPm Lvl":59,"Location":{"lat":17.385044,"lng":78.486671}},
			"Rishikesh":{"PPm Lvl":58,"Location":{"lat":30.0869281,"lng":78.2676116}},
			"Sibsagar":{"PPm Lvl":58,"Location":{"lat":26.9826098,"lng":94.6424521}},
			"Durgapur":{"PPm Lvl":58,"Location":{"lat":23.5204443,"lng":87.3119227}},
			"Angul":{"PPm Lvl":57,"Location":{"lat":20.8444033,"lng":85.1510818}},
			"Bhilai":{"PPm Lvl":55,"Location":{"lat":21.1938475,"lng":81.3509416}},
			"Nagda":{"PPm Lvl":55,"Location":{"lat":23.4454599,"lng":75.41699179999999}},
			"Nagpur":{"PPm Lvl":55,"Location":{"lat":21.1458004,"lng":79.0881546}},
			"Vadodara":{"PPm Lvl":55,"Location":{"lat":22.3071588,"lng":73.1812187}},
			"Jamnagar":{"PPm Lvl":54,"Location":{"lat":22.4707019,"lng":70.05773}},
			"Amravati":{"PPm Lvl":54,"Location":{"lat":20.9374238,"lng":77.7795513}},
			"Vapi":{"PPm Lvl":54,"Location":{"lat":20.3893155,"lng":72.9106202}},
			"Anklesvar":{"PPm Lvl":53,"Location":{"lat":21.6264236,"lng":73.0151984}},
			"Baddi":{"PPm Lvl":53,"Location":{"lat":30.9578258,"lng":76.79135579999999}},
			"Rajkot":{"PPm Lvl":53,"Location":{"lat":22.3038945,"lng":70.80215989999999}},
			"Rourkela":{"PPm Lvl":52,"Location":{"lat":22.260423,"lng":84.8535844}},
			"Surat":{"PPm Lvl":52,"Location":{"lat":21.1702401,"lng":72.83106070000001}},
			"Nashik":{"PPm Lvl":51,"Location":{"lat":19.9974533,"lng":73.78980229999999}},
			"Pune":{"PPm Lvl":49,"Location":{"lat":18.5204303,"lng":73.8567437}},
			"Guwahati":{"PPm Lvl":49,"Location":{"lat":26.1445169,"lng":91.7362365}},
			"Dewas":{"PPm Lvl":49,"Location":{"lat":22.9622672,"lng":76.0507949}},
			"Silchar":{"PPm Lvl":48,"Location":{"lat":24.8332708,"lng":92.7789054}},
			"Dimapur":{"PPm Lvl":48,"Location":{"lat":25.8629885,"lng":93.75366629999999}},
			"Naya Nangal":{"PPm Lvl":47,"Location":{"lat":31.3866405,"lng":76.35504569999999}},
			"Solapur":{"PPm Lvl":44,"Location":{"lat":17.6599188,"lng":75.9063906}},
			"Chennai":{"PPm Lvl":44,"Location":{"lat":13.0826802,"lng":80.2707184}},
			"Nalbari":{"PPm Lvl":44,"Location":{"lat":26.4446185,"lng":91.4410527}},
			"Ramagundam":{"PPm Lvl":44,"Location":{"lat":18.7595503,"lng":79.4816378}},
			"Balasore":{"PPm Lvl":44,"Location":{"lat":21.4869337,"lng":86.9246005}},
			"Kohima":{"PPm Lvl":44,"Location":{"lat":25.6585963,"lng":94.10533070000001}},
			"Bhubneshwar":{"PPm Lvl":43,"Location":{"lat":20.2960587,"lng":85.8245398}},
			"Korba":{"PPm Lvl":43,"Location":{"lat":22.3594501,"lng":82.75005949999999}},
			"Ujjain":{"PPm Lvl":43,"Location":{"lat":23.1793013,"lng":75.7849097}},
			"Berhampur":{"PPm Lvl":43,"Location":{"lat":19.3149618,"lng":84.7940911}},
			"Sangli":{"PPm Lvl":43,"Location":{"lat":16.8523973,"lng":74.5814773}},
			"Aurangabad":{"PPm Lvl":43,"Location":{"lat":19.8761653,"lng":75.3433139}},
			"Parwanoo":{"PPm Lvl":43,"Location":{"lat":30.8371639,"lng":76.96142549999999}},
			"Nagaon":{"PPm Lvl":42,"Location":{"lat":26.3463713,"lng":92.6840426}},
			"Nalgonda":{"PPm Lvl":42,"Location":{"lat":17.0575707,"lng":79.2620294}},
			"Trichy":{"PPm Lvl":40,"Location":{"lat":10.7904833,"lng":78.7046725}},
			"Guntur":{"PPm Lvl":40,"Location":{"lat":16.3066525,"lng":80.4365402}},
			"Devanagere":{"PPm Lvl":40,"Location":{"lat":14.4663438,"lng":75.9238397}},
			"Kurnool":{"PPm Lvl":40,"Location":{"lat":15.8281257,"lng":78.0372792}},
			"Thane":{"PPm Lvl":39,"Location":{"lat":19.2183307,"lng":72.9780897}},
			"Kochi":{"PPm Lvl":38,"Location":{"lat":9.9312328,"lng":76.26730409999999}},
			"Coimbatore":{"PPm Lvl":36,"Location":{"lat":11.0168445,"lng":76.9558321}},
			"Cuttack":{"PPm Lvl":36,"Location":{"lat":20.462521,"lng":85.8829895}},
			"Panaji":{"PPm Lvl":36,"Location":{"lat":15.4909301,"lng":73.8278496}},
			"Shillong":{"PPm Lvl":35,"Location":{"lat":25.5787726,"lng":91.8932535}},
			"Vishakhapatnam":{"PPm Lvl":35,"Location":{"lat":17.6868159,"lng":83.2184815}},
			"Singrauli":{"PPm Lvl":34,"Location":{"lat":24.1992101,"lng":82.66454689999999}},
			"Kothagudem":{"PPm Lvl":34,"Location":{"lat":17.5560036,"lng":80.6143961}},
			"Patiala":{"PPm Lvl":33,"Location":{"lat":30.3397809,"lng":76.3868797}},
			"Nellore":{"PPm Lvl":33,"Location":{"lat":14.4425987,"lng":79.98645599999999}},
			"Salem":{"PPm Lvl":32,"Location":{"lat":42.51954,"lng":-70.8967155}},
			"Kakinada":{"PPm Lvl":31,"Location":{"lat":16.9890648,"lng":82.2474648}},
			"Shimla":{"PPm Lvl":31,"Location":{"lat":31.1048145,"lng":77.17340329999999}},
			"Tinsukia":{"PPm Lvl":30,"Location":{"lat":27.4921909,"lng":95.346775}},
			"Dibrugarh":{"PPm Lvl":30,"Location":{"lat":27.4728327,"lng":94.9119621}},
			"Kottayam":{"PPm Lvl":30,"Location":{"lat":9.591566799999999,"lng":76.5221531}},
			"Kozhikode":{"PPm Lvl":30,"Location":{"lat":11.2587531,"lng":75.78041}},
			"Golaghat":{"PPm Lvl":29,"Location":{"lat":26.5238515,"lng":93.96233699999999}},
			"Thiruvananthapuram":{"PPm Lvl":29,"Location":{"lat":8.5241391,"lng":76.9366376}},
			"Margherita":{"PPm Lvl":29,"Location":{"lat":27.2910662,"lng":95.6694606}},
			"Rayagada":{"PPm Lvl":29,"Location":{"lat":19.171209,"lng":83.4163226}},
			"Aizawl":{"PPm Lvl":29,"Location":{"lat":23.727107,"lng":92.7176389}},
			"Sambalpur":{"PPm Lvl":28,"Location":{"lat":21.4668716,"lng":83.9811665}},
			"Nanded":{"PPm Lvl":28,"Location":{"lat":19.1382514,"lng":77.3209555}},
			"Tura":{"PPm Lvl":28,"Location":{"lat":25.5140712,"lng":90.2032141}},
			"Alappuzha":{"PPm Lvl":27,"Location":{"lat":9.498066699999999,"lng":76.3388484}},
			"Warangal":{"PPm Lvl":26,"Location":{"lat":17.9689008,"lng":79.59405439999999}},
			"Madurai":{"PPm Lvl":26,"Location":{"lat":9.9252007,"lng":78.1197754}},
			"Bongaigaon":{"PPm Lvl":24,"Location":{"lat":26.5009992,"lng":90.5352356}},
			"Puducherry":{"PPm Lvl":22,"Location":{"lat":11.9138598,"lng":79.8144722}},
			"Kollam":{"PPm Lvl":22,"Location":{"lat":8.8932118,"lng":76.6141396}},
			"Chitoor":{"PPm Lvl":21,"Location":{"lat":13.2218054,"lng":79.10104419999999}},
			"Hassan":{"PPm Lvl":19,"Location":{"lat":13.0068142,"lng":76.0995519}},
			"Pathanamthitta":{"PPm Lvl":12,"Location":{"lat":9.2647582,"lng":76.78704139999999}},
			"Tezpur":{"PPm Lvl":6,"Location":{"lat":26.6528495,"lng":92.7925592}}
		};
		var data;

		function initMap() {
			
			data = new google.visualization.DataTable();
			data.addColumn('number', 'Lat');                                
			data.addColumn('number', 'Long');
			data.addColumn('number', 'Air Pollution');
			data.addColumn({type:'string', role:'tooltip'});

			for(var key in cityJson){

					data.addRows([[
					cityJson[key].Location.lat,
					cityJson[key].Location.lng,
					cityJson[key]['PPm Lvl'],
					key+"\n Air Pollution:"+cityJson[key]['PPm Lvl']]]);

				
			};

			var options = {

				sizeAxis: { minValue: 70 },
				domain:'IN',
				region: 'IN',
				displayMode: 'markers',
				dataMode:'markers',
				markerOpacity:'0.5',
				marker:{border:'transparent'},
				markerBorder:'transparent',
				resolution:'provinces',
				defaultColor:"#FFFFFF",
				datalessRegionColor:"#FFFFFF",
				colorAxis:{colors: ['#dc9191', '#FF0000']}
			};

			var chart = new google.visualization.GeoChart(document.getElementById('chart_div'));
			chart.draw(data, options);
		};
		/*$(document).ready(function() {
			var cityObj = {
			};

			function getLatLong (cityName) {
				
			    $.get( 'https://maps.googleapis.com/maps/api/geocode/json?address='+cityName+'&key=AIzaSyAn2vLVeXXK2KK-htz7_PEDSrEKhMiRmKc', function( data ) {
			          
			          if(data.results.length>0){
			                cityObj[cityName].Location=data.results[0].geometry.location;
			                console.log(JSON.stringify(cityObj));
			          }
			    });
			}
			for(var key in cityObj){
			    if(!cityObj[key].Location || cityObj[key].Location==undefined){
			          getLatLong(key);
			    }
			}
		});*/
	</script>
</head>
<body>
	<div id="chart_div" style="width: 900px; height: 500px;margin:0 auto;"></div>
</body>
</html>